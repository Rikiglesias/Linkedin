export type EventSyncSink = 'SUPABASE' | 'WEBHOOK' | 'NONE';
export type ProxyType = 'mobile' | 'residential' | 'unknown';

export interface AccountProfileConfig {
    id: string;
    sessionDir: string;
    proxyUrl: string;
    proxyUsername: string;
    proxyPassword: string;
    proxyType: ProxyType;
    inviteWeight: number;
    messageWeight: number;
    warmupEnabled: boolean;
    warmupStartDate?: string;
    warmupMaxDays: number;
    warmupMinActions: number;
}

export interface AppConfig {
    timezone: string;
    headless: boolean;
    dashboardAuthEnabled: boolean;
    dashboardApiKey: string;
    dashboardBasicUser: string;
    dashboardBasicPassword: string;
    dashboardTrustedIps: string[];
    workingHoursStart: number;
    workingHoursEnd: number;
    jobStuckMinutes: number;
    retryMaxAttempts: number;
    retryBaseMs: number;
    integrationRetryMaxAttempts: number;
    integrationRetryMaxDelayMs: number;
    integrationRequestTimeoutMs: number;
    integrationCircuitBreakerEnabled: boolean;
    integrationCircuitFailureThreshold: number;
    integrationCircuitOpenMs: number;
    workflowLoopIntervalMs: number;
    companyEnrichmentEnabled: boolean;
    companyEnrichmentBatch: number;
    companyEnrichmentMaxProfilesPerCompany: number;
    maxConsecutiveJobFailures: number;
    maxSelectorFailuresPerDay: number;
    maxRunErrorsPerDay: number;
    accountMaxJobsPerRun: number;
    accountLegacyDefaultQueueFallback: boolean;
    accountHealthWarnFailureRate: number;
    accountHealthCriticalFailureRate: number;
    accountHealthAlertMinProcessed: number;
    autoPauseMinutesOnFailureBurst: number;
    challengePauseMinutes: number;
    retentionDays: number;
    profileContextExtractionEnabled: boolean;
    softInviteCap: number;
    hardInviteCap: number;
    weeklyInviteLimit: number;
    softMsgCap: number;
    hardMsgCap: number;
    complianceEnforced: boolean;
    complianceMaxHardInviteCap: number;
    complianceMaxWeeklyInviteLimit: number;
    complianceMaxHardMsgCap: number;
    messageScheduleMinDelayHours: number;
    messageScheduleMaxDelayHours: number;
    riskWarnThreshold: number;
    lowActivityEnabled: boolean;
    lowActivityRiskThreshold: number;
    lowActivityPendingThreshold: number;
    lowActivityBudgetFactor: number;
    lowActivityMinBudget: number;
    riskStopThreshold: number;
    pendingRatioWarn: number;
    pendingRatioStop: number;
    adaptiveCapsEnabled: boolean;
    adaptiveCapsPendingWarn: number;
    adaptiveCapsPendingStop: number;
    adaptiveCapsBlockedWarn: number;
    adaptiveCapsMinFactor: number;
    adaptiveCapsWarnFactor: number;
    cooldownEnabled: boolean;
    cooldownWarnScore: number;
    cooldownHighScore: number;
    cooldownPendingThreshold: number;
    cooldownPendingHighThreshold: number;
    cooldownWarnMinutes: number;
    cooldownHighMinutes: number;
    noBurstEnabled: boolean;
    noBurstMinDelaySec: number;
    noBurstMaxDelaySec: number;
    noBurstLongBreakEvery: number;
    noBurstLongBreakMinSec: number;
    noBurstLongBreakMaxSec: number;
    autoSiteCheckEnabled: boolean;
    autoSiteCheckLimit: number;
    autoSiteCheckFix: boolean;
    autoSiteCheckIntervalHours: number;
    siteCheckStaleDays: number;
    postRunStateSyncEnabled: boolean;
    postRunStateSyncLimit: number;
    postRunStateSyncFix: boolean;
    selectorCanaryEnabled: boolean;
    outboxAlertBacklog: number;
    sessionDir: string;
    multiAccountEnabled: boolean;
    accountProfiles: AccountProfileConfig[];
    dbPath: string;
    databaseUrl: string;
    allowSqliteInProduction: boolean;
    eventSyncSink: EventSyncSink;
    supabaseSyncEnabled: boolean;
    supabaseUrl: string;
    supabaseServiceRoleKey: string;
    supabaseSyncBatchSize: number;
    supabaseSyncIntervalMs: number;
    supabaseSyncMaxRetries: number;
    supabaseControlPlaneEnabled: boolean;
    supabaseControlPlaneSyncIntervalMs: number;
    supabaseControlPlaneMaxCampaigns: number;
    webhookSyncEnabled: boolean;
    webhookSyncUrl: string;
    webhookSyncSecret: string;
    webhookSyncBatchSize: number;
    webhookSyncTimeoutMs: number;
    webhookSyncMaxRetries: number;
    openaiApiKey: string;
    openaiBaseUrl: string;
    aiModel: string;
    aiAllowRemoteEndpoint: boolean;
    aiRequestTimeoutMs: number;
    aiPersonalizationEnabled: boolean;
    aiSentimentEnabled: boolean;
    aiMessageMaxChars: number;
    aiQualityMinSampleSize: number;
    aiQualitySignificanceAlpha: number;
    aiValidationAutoSeedEnabled: boolean;
    aiGuardianEnabled: boolean;
    aiGuardianMinIntervalMinutes: number;
    aiGuardianPauseMinutes: number;
    telegramBotToken: string;
    telegramChatId: string;
    discordWebhookUrl: string;
    slackWebhookUrl: string;
    backupRetentionDays: number;
    securitySecretMaxAgeDays: number;
    securitySecretWarnDays: number;
    processMaxUptimeHours: number;
    hubspotApiKey: string;
    salesforceInstanceUrl: string;
    salesforceClientId: string;
    salesforceClientSecret: string;
    hunterApiKey: string;
    clearbitApiKey: string;
    followUpDelayDays: number;
    followUpQuestionsDelayDays: number;
    followUpNegativeDelayDays: number;
    followUpNotInterestedDelayDays: number;
    followUpMax: number;
    followUpDailyCap: number;
    proxyUrl: string;
    proxyUsername: string;
    proxyPassword: string;
    proxyTypeDefault: ProxyType;
    proxyListPath: string;
    proxyFailureCooldownMinutes: number;
    proxyRotateEveryJobs: number;
    proxyRotateEveryMinutes: number;
    proxyHealthCheckTimeoutMs: number;
    proxyMobilePriorityEnabled: boolean;
    proxyMobileEscalationFailures: number;
    proxyProviderApiEndpoint?: string;
    proxyProviderApiKey?: string;
    fingerprintApiEndpoint: string;
    mobileProbability: number;
    useJa3Proxy: boolean;
    ja3ProxyPort: number;
    ja3Fingerprint: string;
    ja3UserAgent: string;
    ja3ProxyUpstream: string;
    ssiDynamicLimitsEnabled: boolean;
    ssiStateKey: string;
    ssiDefaultScore: number;
    ssiInviteMin: number;
    ssiInviteMax: number;
    ssiMessageMin: number;
    ssiMessageMax: number;
    warmupEnabled: boolean;
    warmupStartDate?: string;
    warmupMaxDays: number;
    warmupMinActions: number;
    withdrawInvitesEnabled: boolean;
    pendingInviteMaxDays: number;
    inviteWithNote: boolean;
    inviteNoteMode: 'template' | 'ai';
    salesNavSyncEnabled: boolean;
    salesNavSyncListName: string;
    salesNavSyncListUrl: string;
    salesNavSyncMaxPages: number;
    salesNavSyncIntervalHours: number;
    salesNavSyncLimit: number;
    salesNavSyncAccountId: string;
    rampUpEnabled: boolean;
    rampUpDailyIncrease: number;
    rampUpMaxCap: number;
    randomActivityEnabled: boolean;
    randomActivityProbability: number;
    randomActivityMaxActions: number;
    interJobMinDelaySec: number;
    interJobMaxDelaySec: number;
    behaviorDecoyMinIntervalJobs: number;
    behaviorDecoyMaxIntervalJobs: number;
    behaviorCoffeeBreakMinIntervalJobs: number;
    behaviorCoffeeBreakMaxIntervalJobs: number;
    behaviorCoffeeBreakMinSec: number;
    behaviorCoffeeBreakMaxSec: number;
    contextualPauseMinMs: number;
    contextualPauseMaxMs: number;
    mondayLowActivityFactor: number;
    mondayLowActivityStartHour: number;
    mondayLowActivityEndHour: number;
    fridayLowActivityFactor: number;
    fridayLowActivityStartHour: number;
    fridayLowActivityEndHour: number;
    weekendPolicyEnabled: boolean;
    timingExplorationProbability: number;
    greenModeEnabled: boolean;
    greenModeStartHour: number;
    greenModeEndHour: number;
    greenModeBudgetFactor: number;
    greenModeIntervalMultiplier: number;
    aiGreenModel: string;
    riskPredictiveAlertsEnabled: boolean;
    riskPredictiveLookbackDays: number;
    riskPredictiveSigma: number;
}
