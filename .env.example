# Runtime locale
TIMEZONE=Europe/Rome
HEADLESS=false
HOUR_START=9
HOUR_END=18
DB_PATH=./data/linkedin_bot.sqlite
# In produzione SQLite è bloccato per default (guardrail): abilita solo se accetti esplicitamente il rischio.
ALLOW_SQLITE_IN_PRODUCTION=false
SESSION_DIR=./data/session
# Multi-account (2 account max, sicurezza-first)
# Se MULTI_ACCOUNT_ENABLED=true, configura almeno ACCOUNT_1_SESSION_DIR.
# Per usare due account, imposta anche ACCOUNT_2_SESSION_DIR.
MULTI_ACCOUNT_ENABLED=false
ACCOUNT_1_ID=acc1
ACCOUNT_1_SESSION_DIR=./data/session_acc1
ACCOUNT_1_PROXY_URL=
ACCOUNT_1_PROXY_USERNAME=
ACCOUNT_1_PROXY_PASSWORD=
ACCOUNT_2_ID=acc2
ACCOUNT_2_SESSION_DIR=./data/session_acc2
ACCOUNT_2_PROXY_URL=
ACCOUNT_2_PROXY_USERNAME=
ACCOUNT_2_PROXY_PASSWORD=
MAX_CONCURRENT_JOBS=1
JOB_STUCK_MINUTES=30
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_MS=1200
WORKFLOW_LOOP_INTERVAL_MS=900000
COMPANY_ENRICHMENT_ENABLED=true
COMPANY_ENRICHMENT_BATCH=5
COMPANY_ENRICHMENT_MAX_PROFILES_PER_COMPANY=3
MAX_CONSECUTIVE_JOB_FAILURES=4
MAX_SELECTOR_FAILURES_PER_DAY=8
MAX_RUN_ERRORS_PER_DAY=20
AUTO_PAUSE_MINUTES_ON_FAILURE_BURST=180
RETENTION_DAYS=45

# Budget dinamico (valori conservativi anti-ban raccomandati)
SOFT_INVITE_CAP=15
HARD_INVITE_CAP=25
SOFT_MSG_CAP=20
HARD_MSG_CAP=35
WEEKLY_INVITE_LIMIT=80
MESSAGE_SCHEDULE_MIN_DELAY_HOURS=1
MESSAGE_SCHEDULE_MAX_DELAY_HOURS=4

# Risk engine
RISK_WARN_THRESHOLD=60
RISK_STOP_THRESHOLD=80
PENDING_RATIO_WARN=0.65
PENDING_RATIO_STOP=0.8
ADAPTIVE_CAPS_ENABLED=true
ADAPTIVE_CAPS_PENDING_WARN=0.55
ADAPTIVE_CAPS_PENDING_STOP=0.72
ADAPTIVE_CAPS_BLOCKED_WARN=0.25
ADAPTIVE_CAPS_MIN_FACTOR=0.25
ADAPTIVE_CAPS_WARN_FACTOR=0.85
COOLDOWN_ENABLED=true
COOLDOWN_WARN_SCORE=68
COOLDOWN_HIGH_SCORE=75
COOLDOWN_PENDING_THRESHOLD=0.65
COOLDOWN_PENDING_HIGH_THRESHOLD=0.75
COOLDOWN_WARN_MINUTES=2880
COOLDOWN_HIGH_MINUTES=4320
NO_BURST_ENABLED=true
NO_BURST_MIN_DELAY_SEC=12
NO_BURST_MAX_DELAY_SEC=45
NO_BURST_LONG_BREAK_EVERY=5
NO_BURST_LONG_BREAK_MIN_SEC=180
NO_BURST_LONG_BREAK_MAX_SEC=600
AUTO_SITE_CHECK_ENABLED=true
AUTO_SITE_CHECK_LIMIT=5
AUTO_SITE_CHECK_FIX=true
AUTO_SITE_CHECK_INTERVAL_HOURS=48
SITE_CHECK_STALE_DAYS=2
POST_RUN_STATE_SYNC_ENABLED=true
POST_RUN_STATE_SYNC_LIMIT=3
POST_RUN_STATE_SYNC_FIX=true
SELECTOR_CANARY_ENABLED=true
OUTBOX_ALERT_BACKLOG=1000

# Alerting Telegram (opzionale)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Supabase Control Plane (asincrono)
EVENT_SYNC_SINK=SUPABASE
SUPABASE_SYNC_ENABLED=true
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_SYNC_BATCH_SIZE=100
SUPABASE_SYNC_INTERVAL_MS=15000
SUPABASE_SYNC_MAX_RETRIES=8

# Webhook sink (n8n / Make / Pipedream)
WEBHOOK_SYNC_ENABLED=false
WEBHOOK_SYNC_URL=
WEBHOOK_SYNC_SECRET=
WEBHOOK_SYNC_BATCH_SIZE=100
WEBHOOK_SYNC_TIMEOUT_MS=10000
WEBHOOK_SYNC_MAX_RETRIES=8

# AI (opzionale)
OPENAI_API_KEY=
# Default local-first (OpenAI-compatible endpoint, es. Ollama o gateway locale).
OPENAI_BASE_URL=http://127.0.0.1:11434/v1
AI_MODEL=llama3.1:8b
# false = blocca endpoint remoti (api.openai.com ecc.). true = opt-in esplicito.
AI_ALLOW_REMOTE_ENDPOINT=false
AI_REQUEST_TIMEOUT_MS=12000
AI_PERSONALIZATION_ENABLED=false
AI_MESSAGE_MAX_CHARS=450
AI_GUARDIAN_ENABLED=false
AI_GUARDIAN_MIN_INTERVAL_MINUTES=60
AI_GUARDIAN_PAUSE_MINUTES=180

# Proxy residenziali (opzionale – lasciare vuoto per connessione diretta)
# Esempio BrightData: http://user-country-it-session-123:password@zproxy.lum-superproxy.io:22225
# Esempio IPRoyal: http://user:pass@geo.iproyal.com:12321
# Se PROXY_LIST è valorizzato, ha priorità su PROXY_URL.
# Formati supportati nel file:
#   - http://user:pass@host:port
#   - host:port:user:pass
PROXY_URL=
PROXY_USERNAME=
PROXY_PASSWORD=
PROXY_LIST=
PROXY_FAILURE_COOLDOWN_MINUTES=30
PROXY_ROTATE_EVERY_JOBS=5
PROXY_ROTATE_EVERY_MINUTES=15

# Inviti con nota personalizzata
# INVITE_WITH_NOTE=true → aggiunge una nota breve all'invito (raccomandato anti-ban)
# INVITE_NOTE_MODE=template → usa i template predefiniti (veloce, gratis)
# INVITE_NOTE_MODE=ai → usa OpenAI per generare la nota (richiede OPENAI_API_KEY)
INVITE_WITH_NOTE=false
INVITE_NOTE_MODE=template

# Sales Navigator sync (lista -> DB)
SALESNAV_SYNC_ENABLED=false
SALESNAV_SYNC_LIST_NAME=default
SALESNAV_SYNC_LIST_URL=
SALESNAV_SYNC_MAX_PAGES=3
SALESNAV_SYNC_INTERVAL_HOURS=24
SALESNAV_SYNC_LIMIT=30
SALESNAV_SYNC_ACCOUNT_ID=

# Attività random opzionali (home/notifiche/rete/impostazioni/profili)
RANDOM_ACTIVITY_ENABLED=false
RANDOM_ACTIVITY_PROBABILITY=0.15
RANDOM_ACTIVITY_MAX_ACTIONS=3
